Preparation:

Put the login.pem file in ~/data (this location is currently hardcoded)

To create the "LAN" experiment with $S servers and $C clients:

exp="S${S}L$C"
mkdir /tmp/$exp
./bin/mknet S=$S L=$C EXP=$exp [other options, see below]

To create the "WAN" experiment with $S servers, $L clients per LAN and
$R router levels:

exp="S${S}R${R}L$L"
mkdir /tmp/$exp
./bin/mknet S=$S L=$L $=$R EXP=$exp [other options, see below]

other options:
    PWD=~/data/login.pwd     file containing password for login.pem
    K=~/.ssh/id_rsa.pub      add another allowed ssh key to the testbed
                             (the one from login.pem is added automatically)

To run the experiment:

xvfb-run java -Djdk.gtk.version=2 -jar ~/jfed_cli/experimenter-cli2.jar \
    -a /tmp/$exp/action.yaml

This takes about 10 minutes, then it stops without saying anything;
to check progress:

tail /tmp/$exp/debug.txt

To prepare the testbed for the experiment:

./bin/setup-experiment SIZES $exp

where SIZES is a comma-separated list of file sizes to run, in megabytes

This currently copies all the information to the testbed but does not set
things up and run the experiment.  Log in to the "director":

grep director0 /tmp/$exp/ansible/ansible-hosts

Use the information displayed to ssh, for example if it says:

director0       ansible_ssh_host=n109-05.wall2.ilabt.iminds.be  ansible_ssh_port=22     ansible_ssh_user=libreclc 

run:

ssh -p22 libreclc@n109-05.wall2.ilabt.iminds.be

On the director itself, start by setting up all the other nodes:

/tmp/experiment/setup-all

And then run the experiment:

/tmp/experiment/run-experiment

